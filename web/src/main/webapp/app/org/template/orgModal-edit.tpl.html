<div class="modal" tabindex="-1" role="dialog" >
    <div class="modal-dialog" style="width: 850px;height: 600px" >
        <div class="modal-content" >
            <div class="modal-header" static="" >
                <button type="button" class="close" ng-click="$hide()" >×</button >
                <h4 class="modal-title" ng-if="pageType=='add'" >新增机构</h4 >
                <h4 class="modal-title" ng-if="pageType=='modify'" >修改机构</h4 >
                <h4 class="modal-title" ng-if="pageType=='view'" >机构</h4 >
            </div >
            <div class="modal-body" >
                <div class="block-content" >
                    <div class="content-wrap" >
                        <form name="form" class="form-horizontal" role="form" >
                            <div style="display: none;" >
                                <input type="hidden" id="pageType" value="${pageType}" />
                                <input type="hidden" id="id" value="${id}" />
                            </div >
                            <div class="row" >
                                <div class="form-label col-2" >
                                    <label ><span style="color: red;" > * </span >名称:</label >
                                </div >
                                <input class="col-4" type="text" ng-model="condition.longName"
                                       validate
                                       validate-required autofocus validate-max-length="32"
                                        />

                                <div class="form-label col-1-half" >
                                    <label ><span style="color: red;" > * </span >简称:</label >
                                </div >
                                <input class="col-4" type="text"
                                       validate validate-required autofocus validate-max-length="16" ng-model="condition.name" />
                            </div >
                            <div class="row" >
                                <div class="form-label col-2" >
                                    <label >拼音(全拼):</label >
                                </div >
                                <input class="col-4" type="text"
                                       validate validate-max-length="25" autofocus ng-model="condition.pinyin" />

                                <div class="form-label col-1-half" >
                                    <label >拼音(简拼):</label >
                                </div >
                                <input class="col-4" type="text"
                                       validate validate-max-length="20" ng-model="condition.jianpin" />
                            </div >
                            <div class="row" >
                                <div class="form-label col-2" >
                                    <label >GroupID:</label >
                                </div >
                                <span ng-bind-template="{{ condition.id }}" class="col-4" ></span >

                                <div class="form-label col-1-half" >
                                    <label >是否直属:</label >
                                </div >
                                <input type="checkbox" ng-model="condition.isDirectly" />
                            </div >
                            <div class="row" >
                                <div class="form-label col-2" >
                                    <label >上级机构:</label >
                                </div >
                                <div class="pr col-4" >
                                    <input class="col-12" ztree-single="ztreeOptions" ng-model="condition.parentName" />

                                    <input type="hidden" ng-model="condition.parentId" />
                                    <span class="add-on" style="position: fixed;" >
                                           <i class="icons circle_fork icon" ng-click="clearOrg()" title="清除" ></i >
                                    </span >
                                </div >
                                <div class="form-label col-1-half" >
                                    <label >排序:</label >
                                </div >
                                <input class="col-4" type="number" ng-model="condition.sequenceNo" validate validate-int
                                       validate-max-length="4" />
                            </div >

                            <div class="row" >
                                <div class="form-label col-2" >
                                    <label ><span style="color: red;" > * </span >所在城市:</label >
                                </div >
                                <div class="col-4" >
                                    <input type="text" class="col-12" validate validate-required ztree-single="regionOptions"
                                           ng-model="condition.businessAreaName" />
                                    <span class="add-on" >
                                        <i class="icons circle_fork icon" ng-click="clearRegion()" title="清除" ></i >
                                      </span >
                                </div >

                                <div class="form-label col-1-half" >
                                    <label >所属系统:</label >
                                </div >
                                <select ng-model="condition.busiTypeId" class="col-4" ng-options="foo.value as foo.name for foo in busiTypeIds" >
                                </select >
                            </div >
                            <div class="row" >
                                <div class="form-label col-2" >
                                    <label >机构类型:</label >
                                </div >
                                <select ng-model="condition.orgType" class="col-4" ng-options="foo.value as foo.name for foo in orgTypes" >
                                </select >

                                <div class="form-label col-1-half" >
                                    <label ></label >
                                </div >
                                <input type="checkbox" style="height: 12px;" ng-model="condition.isOrgs" />是机构
                                <input type="checkbox" style="height: 12px;margin-left: 8px;" ng-model="condition.isStatus" />启用
                            </div >
                            <div class="row" >
                                <div class="form-label col-2" >
                                    <label >备注:</label >
                                </div >
                                <textarea class="col-9-half" rows="3"
                                          validate validate-max-length="1000" ng-model="condition.description" ></textarea >

                            </div >
                            <div class="row" ng-if="pageType=='modify'" >
                                <div class="form-label col-2" >
                                    <label >创建时间</label >
                                </div >
                                <span ng-bind-template="{{condition.createdDatetime | eccrmDatetime}}" class="col-4" ></span >

                                <!--<div >-->
                                <div class="form-label col-1-half" >
                                    <label >修改时间</label >
                                </div >
                                <span ng-bind-template="{{condition.modifiedDatetime | eccrmDatetime}}" class="col-4" ></span >
                            </div >
                        </form >
                    </div >
                </div >

            </div >
            <div class="modal-footer" ng-cloak >
                <button type="button" class="btn btn-default btn-primary" ng-if="pageType=='add'" ng-click="save();"
                        ng-disabled="form.$invalid" >保存
                </button >
                <button type="button" class="btn btn-default btn-primary" ng-if="pageType=='modify'" ng-click="update();"
                        ng-disabled="form.$invalid" >更新
                </button >
                <button type="button" class="btn btn-default" ng-click="$hide()" >关闭</button >
            </div >

        </div >
    </div >
</div >
<div />



